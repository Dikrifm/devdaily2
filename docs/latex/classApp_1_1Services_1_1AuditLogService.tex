\doxysection{App\textbackslash{}Services\textbackslash{}Audit\+Log\+Service Class Reference}
\hypertarget{classApp_1_1Services_1_1AuditLogService}{}\label{classApp_1_1Services_1_1AuditLogService}\index{App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}}


Inheritance diagram for App\textbackslash{}Services\textbackslash{}Audit\+Log\+Service\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for App\textbackslash{}Services\textbackslash{}Audit\+Log\+Service\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1AuditLogService_afa6d9ad5d4ca9c70d36f3090770bcb37}{\+\_\+\+\_\+construct}} (Connection\+Interface \$db, \mbox{\hyperlink{interfaceApp_1_1Contracts_1_1CacheInterface}{Cache\+Interface}} \$cache, Audit\+Service \$audit\+Service, \mbox{\hyperlink{interfaceApp_1_1Repositories_1_1Interfaces_1_1AuditLogRepositoryInterface}{Audit\+Log\+Repository\+Interface}} \$audit\+Log\+Repository, \mbox{\hyperlink{interfaceApp_1_1Repositories_1_1Interfaces_1_1AdminRepositoryInterface}{Admin\+Repository\+Interface}} \$admin\+Repository, Audit\+Log\+Validator \$audit\+Log\+Validator)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1AuditLogService_a5e28ed3745d2c85763602e0a3dbc55b7}{log}} (string \$action\+Type, string \$entity\+Type, int \$entity\+Id, ?array \$old\+Values=null, ?array \$new\+Values=null, ?int \$admin\+Id=null, array \$additional\+Context=\mbox{[}$\,$\mbox{]})
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1AuditLogService_af5a9e96404826479e98097d4c3c8fd18}{log\+System\+Action}} (string \$action\+Type, string \$entity\+Type, int \$entity\+Id, ?array \$old\+Values=null, ?array \$new\+Values=null, array \$system\+Context=\mbox{[}$\,$\mbox{]})
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1AuditLogService_a324ddcd93db54940dbefc571ff4bbdb4}{log\+Bulk}} (array \$log\+Entries)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1AuditLogService_ac068b6c12c92c12613f6a27d159e7299}{get\+Log}} (int \$log\+Id)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1AuditLogService_a95005021d7a7e2a51c82dff54b30862c}{get\+Logs}} (\mbox{\hyperlink{classApp_1_1DTOs_1_1Queries_1_1PaginationQuery}{Pagination\+Query}} \$pagination, array \$filters=\mbox{[}$\,$\mbox{]})
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1AuditLogService_aa892dc236420c67f725f936cd3526375}{get\+Entity\+Logs}} (string \$entity\+Type, int \$entity\+Id, \mbox{\hyperlink{classApp_1_1DTOs_1_1Queries_1_1PaginationQuery}{Pagination\+Query}} \$pagination)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1AuditLogService_a4b37aae3b7dc7f4518fbe90b05d5ce82}{get\+Admin\+Logs}} (int \$admin\+Id, \mbox{\hyperlink{classApp_1_1DTOs_1_1Queries_1_1PaginationQuery}{Pagination\+Query}} \$pagination)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1AuditLogService_ab6fa21b67f023e614bd42822abe9834b}{get\+Logs\+By\+Action\+Type}} (string \$action\+Type, \mbox{\hyperlink{classApp_1_1DTOs_1_1Queries_1_1PaginationQuery}{Pagination\+Query}} \$pagination)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1AuditLogService_a647c4e7b6fe3f685de20105698d5da87}{get\+System\+Logs}} (\mbox{\hyperlink{classApp_1_1DTOs_1_1Queries_1_1PaginationQuery}{Pagination\+Query}} \$pagination)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1AuditLogService_a66ba733cb0e32531726058b3fff51f6d}{search\+Logs}} (string \$search\+Term, \mbox{\hyperlink{classApp_1_1DTOs_1_1Queries_1_1PaginationQuery}{Pagination\+Query}} \$pagination)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1AuditLogService_ab63b2ec841477d26a18b3b2dd0056e40}{search\+Logs\+By\+Ip}} (string \$ip\+Address, \mbox{\hyperlink{classApp_1_1DTOs_1_1Queries_1_1PaginationQuery}{Pagination\+Query}} \$pagination)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1AuditLogService_a4c9af2c74d6854c4d96bf7c61992bf37}{search\+Logs\+By\+Date\+Range}} (string \$start\+Date, string \$end\+Date, \mbox{\hyperlink{classApp_1_1DTOs_1_1Queries_1_1PaginationQuery}{Pagination\+Query}} \$pagination)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1AuditLogService_aadeb81333e44c6ce30887f19e0086ba3}{get\+Recent\+Logs}} (int \$hours=24, \mbox{\hyperlink{classApp_1_1DTOs_1_1Queries_1_1PaginationQuery}{Pagination\+Query}} \$pagination)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1AuditLogService_a9e2da0204ccd2cead6e33c6cdd7d9bed}{get\+Entity\+Audit\+Trail}} (string \$entity\+Type, int \$entity\+Id, bool \$include\+System\+Actions=false)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1AuditLogService_a6c19f4bd5719a20bf7fd39ce7f0a6c1a}{get\+Entity\+Change\+History}} (string \$entity\+Type, int \$entity\+Id, ?string \$field=null)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1AuditLogService_a07f7a89d73efa5f7e4b8fc6985903e6d}{get\+Admin\+Activity\+Timeline}} (int \$admin\+Id, int \$days=30)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1AuditLogService_adce8de8677781434798b795bf5aeb4d2}{has\+Entity\+History}} (string \$entity\+Type, int \$entity\+Id)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1AuditLogService_a754a50bc33609294d450f8b03690ac1a}{get\+Last\+Admin\+Activity}} (int \$admin\+Id)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1AuditLogService_a2d2399a6237897da1861cdf0039148d9}{get\+Statistics}} (?string \$start\+Date=null, ?string \$end\+Date=null)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1AuditLogService_aee2ff8546727d6f1cb047d1ac9b91438}{get\+Action\+Type\+Distribution}} (int \$days=30)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1AuditLogService_a6050ef89b384952884a6387801c14f67}{get\+Entity\+Type\+Distribution}} (int \$days=30)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1AuditLogService_a8d902a5fafcd96544f9be7e7c523bd8c}{get\+Most\+Active\+Admins}} (int \$limit=10, ?string \$start\+Date=null, ?string \$end\+Date=null)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1AuditLogService_ac547950ebddc5f77417530a41e45c0e1}{get\+Daily\+Activity}} (int \$days=30)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1AuditLogService_a89931c9e982cd4cbe00a7238bac799d0}{get\+Database\+Size}} ()
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1AuditLogService_af9f8db53181988632bc6ea948bdb02ea}{cleanup\+Old\+Logs}} (int \$days\+Older\+Than=365, bool \$archive\+First=true)
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classApp_1_1Services_1_1BaseService}{App\textbackslash{}\+Services\textbackslash{}\+Base\+Service}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1BaseService_ac1c2996f005d7350b8bcd56626d996b2}{\+\_\+\+\_\+construct}} (Connection\+Interface \$db, \mbox{\hyperlink{interfaceApp_1_1Contracts_1_1CacheInterface}{Cache\+Interface}} \$cache, Audit\+Service \$audit\+Service)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1BaseService_a0559a52c16f4d6099cafc0386c2c53e9}{transaction}} (Closure \$operation, ?string \$transaction\+Name=null)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1BaseService_a50aa80d639cf3939556802da72c0cc43}{transaction\+With\+Retry}} (Closure \$operation, int \$max\+Retries=3, int \$retry\+Delay\+Ms=100)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1BaseService_a0dd17606e7db80a4123316e04b9e251a}{authorize}} (string \$permission, \$resource=null)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1BaseService_a326c5e784061453d9807ceba0d360fc4}{validate\+DTO}} (\mbox{\hyperlink{classApp_1_1DTOs_1_1BaseDTO}{Base\+DTO}} \$dto, array \$context=\mbox{[}$\,$\mbox{]})
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1BaseService_aa354e0c9f696897086612a8ad54cd405}{validate\+DTOOr\+Fail}} (\mbox{\hyperlink{classApp_1_1DTOs_1_1BaseDTO}{Base\+DTO}} \$dto, array \$context=\mbox{[}$\,$\mbox{]})
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1BaseService_a5cab69aa8de35af4e774bfbeb844223b}{coordinate\+Repositories}} (array \$repositories, Closure \$operation)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1BaseService_adc9ce0842f818c3f976972557922d59c}{get\+Entity}} (\mbox{\hyperlink{interfaceApp_1_1Repositories_1_1BaseRepositoryInterface}{Base\+Repository\+Interface}} \$repository, \$id, bool \$throw\+If\+Not\+Found=true)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1BaseService_a7ef2f481b5afcf427d56c8e68a66e3b9}{audit}} (string \$action\+Type, string \$entity\+Type, int \$entity\+Id, ?array \$old\+Values=null, ?array \$new\+Values=null, array \$additional\+Context=\mbox{[}$\,$\mbox{]})
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1BaseService_a7356b713dd3dd6bfdabdf65ec38a6198}{clear\+Cache\+For\+Entity}} (\mbox{\hyperlink{interfaceApp_1_1Repositories_1_1BaseRepositoryInterface}{Base\+Repository\+Interface}} \$repository, \$entity\+Id=null, ?string \$pattern=null)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1BaseService_a0ffea7ef1f6ff6445d6766415877d481}{clear\+Service\+Cache}} ()
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1BaseService_a162954e4ebaca73a0555a09b7c5b7793}{with\+Caching}} (string \$cache\+Key, Closure \$callback, ?int \$ttl=null)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1BaseService_a71c46cd3d0e617ebf3ede585c3cce503}{batch\+Operation}} (array \$items, Closure \$item\+Operation, int \$batch\+Size=100, ?callable \$progress\+Callback=null)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1BaseService_aad49acc732ebc886340eb7c0617e0e83}{set\+Admin\+Context}} (?int \$admin\+Id)
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1BaseService_a0adb04e069280a92fc66e12b2e0bac2a}{get\+Current\+Admin\+Id}} ()
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1BaseService_a4cecbeaea9ede2f98fd82c89245b6b4d}{get\+Service\+Cache\+Key}} (string \$operation, array \$parameters=\mbox{[}$\,$\mbox{]})
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1BaseService_a0caa15c8f578f64ad2511c2fd53fb94a}{get\+Initialized\+At}} ()
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1BaseService_ad0304b958be1914e86428214b8f9cd9c}{is\+Ready}} ()
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1BaseService_a9e9c6c224257643835271823837deb2b}{get\+Health\+Status}} ()
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1BaseService_a5743370c5832cc85bd4a731d5190f007}{get\+Performance\+Metrics}} ()
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1BaseService_ab9d754d9c3405024c7dc66a25acbc13c}{reset\+Metrics}} ()
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1BaseService_abeab1d89965da6d66fa99e9014476d02}{validate\+Configuration}} ()
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1BaseService_ade35f7376c38932ef43bd3fa9fcffd48}{validate\+Business\+Rules}} (\mbox{\hyperlink{classApp_1_1DTOs_1_1BaseDTO}{Base\+DTO}} \$dto, array \$context=\mbox{[}$\,$\mbox{]})
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1BaseService_ae5683c63e89a0d7127abc66d78228cf4}{get\+Service\+Name}} ()
\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{classApp_1_1Services_1_1BaseService}{App\textbackslash{}\+Services\textbackslash{}\+Base\+Service}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classApp_1_1Services_1_1BaseService_a3b7149e93e74a0d14f7617552980564d}{queue\+Cache\+Operation}} (\$operation)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{classApp_1_1Services_1_1BaseService}{App\textbackslash{}\+Services\textbackslash{}\+Base\+Service}}}
\begin{DoxyCompactItemize}
\item 
Connection\+Interface \mbox{\hyperlink{classApp_1_1Services_1_1BaseService_aeab4375cec38530d5a979bb5a7b69ee7}{\$db}}
\item 
\mbox{\hyperlink{interfaceApp_1_1Contracts_1_1CacheInterface}{Cache\+Interface}} \mbox{\hyperlink{classApp_1_1Services_1_1BaseService_a4e70c9c80c8b0787eb8d378b5f5a5b3b}{\$cache}}
\item 
Audit\+Service \mbox{\hyperlink{classApp_1_1Services_1_1BaseService_aa8c5356538f0bcac49efc678bf82fb98}{\$audit\+Service}}
\item 
int \mbox{\hyperlink{classApp_1_1Services_1_1BaseService_a406970729a52dacf1a802a90b5dfe2fd}{\$current\+Admin\+Id}} = null
\end{DoxyCompactItemize}


\label{doc-constructors}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_doc-constructors}
\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_afa6d9ad5d4ca9c70d36f3090770bcb37}\index{App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}!\_\_construct@{\_\_construct}}
\index{\_\_construct@{\_\_construct}!App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}}
\doxysubsubsection{\texorpdfstring{\_\_construct()}{\_\_construct()}}
{\footnotesize\ttfamily \label{classApp_1_1Services_1_1AuditLogService_afa6d9ad5d4ca9c70d36f3090770bcb37} 
App\textbackslash{}\+Services\textbackslash{}\+Audit\+Log\+Service\+::\+\_\+\+\_\+construct (\begin{DoxyParamCaption}\item[{Connection\+Interface}]{\$db}{, }\item[{\mbox{\hyperlink{interfaceApp_1_1Contracts_1_1CacheInterface}{Cache\+Interface}}}]{\$cache}{, }\item[{Audit\+Service}]{\$audit\+Service}{, }\item[{\mbox{\hyperlink{interfaceApp_1_1Repositories_1_1Interfaces_1_1AuditLogRepositoryInterface}{Audit\+Log\+Repository\+Interface}}}]{\$audit\+Log\+Repository}{, }\item[{\mbox{\hyperlink{interfaceApp_1_1Repositories_1_1Interfaces_1_1AdminRepositoryInterface}{Admin\+Repository\+Interface}}}]{\$admin\+Repository}{, }\item[{Audit\+Log\+Validator}]{\$audit\+Log\+Validator}{}\end{DoxyParamCaption})}

Constructor with dependency injection


\begin{DoxyParams}[1]{Parameters}
Connection\+Interface & {\em \$db} & \\
\hline
Cache\+Interface & {\em \$cache} & \\
\hline
Audit\+Service & {\em \$audit\+Service} & \\
\hline
Audit\+Log\+Repository\+Interface & {\em \$audit\+Log\+Repository} & \\
\hline
Admin\+Repository\+Interface & {\em \$admin\+Repository} & \\
\hline
Audit\+Log\+Validator & {\em \$audit\+Log\+Validator} & \\
\hline
\end{DoxyParams}


\label{doc-func-members}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_doc-func-members}
\doxysubsection{Member Function Documentation}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_af9f8db53181988632bc6ea948bdb02ea}\index{App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}!cleanupOldLogs@{cleanupOldLogs}}
\index{cleanupOldLogs@{cleanupOldLogs}!App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}}
\doxysubsubsection{\texorpdfstring{cleanupOldLogs()}{cleanupOldLogs()}}
{\footnotesize\ttfamily \label{classApp_1_1Services_1_1AuditLogService_af9f8db53181988632bc6ea948bdb02ea} 
App\textbackslash{}\+Services\textbackslash{}\+Audit\+Log\+Service\+::cleanup\+Old\+Logs (\begin{DoxyParamCaption}\item[{int}]{\$days\+Older\+Than}{ = {\ttfamily 365}, }\item[{bool}]{\$archive\+First}{ = {\ttfamily true}}\end{DoxyParamCaption})}

Clean up old audit logs


\begin{DoxyParams}[1]{Parameters}
int & {\em \$days\+Older\+Than} & \\
\hline
bool & {\em \$archive\+First} & Archive logs before deletion \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\{ deleted\+\_\+count\+: int, archived\+\_\+count\+: int, freed\+\_\+space\+\_\+mb\+: float \} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1DomainException}{Domain\+Exception}} & \\
\hline
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}
 Clean up old audit logs


\begin{DoxyParams}[1]{Parameters}
int & {\em \$days\+Older\+Than} & \\
\hline
bool & {\em \$archive\+First} & Archive logs before deletion \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\{ deleted\+\_\+count\+: int, archived\+\_\+count\+: int, freed\+\_\+space\+\_\+mb\+: float \} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1DomainException}{Domain\+Exception}} & \\
\hline
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}


Clean up old audit logs


\begin{DoxyParams}[1]{Parameters}
int & {\em \$days\+Older\+Than} & \\
\hline
bool & {\em \$archive\+First} & Archive logs before deletion \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\{ deleted\+\_\+count\+: int, archived\+\_\+count\+: int, freed\+\_\+space\+\_\+mb\+: float \} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1DomainException}{Domain\+Exception}} & \\
\hline
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}


Clean up old audit logs


\begin{DoxyParams}[1]{Parameters}
int & {\em \$days\+Older\+Than} & \\
\hline
bool & {\em \$archive\+First} & Archive logs before deletion \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\{ deleted\+\_\+count\+: int, archived\+\_\+count\+: int, freed\+\_\+space\+\_\+mb\+: float \} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1DomainException}{Domain\+Exception}} & \\
\hline
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}


Clean up old audit logs


\begin{DoxyParams}[1]{Parameters}
int & {\em \$days\+Older\+Than} & \\
\hline
bool & {\em \$archive\+First} & Archive logs before deletion \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\{ deleted\+\_\+count\+: int, archived\+\_\+count\+: int, freed\+\_\+space\+\_\+mb\+: float \} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1DomainException}{Domain\+Exception}} & \\
\hline
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}


Clean up old audit logs


\begin{DoxyParams}[1]{Parameters}
int & {\em \$days\+Older\+Than} & \\
\hline
bool & {\em \$archive\+First} & Archive logs before deletion \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\{ deleted\+\_\+count\+: int, archived\+\_\+count\+: int, freed\+\_\+space\+\_\+mb\+: float \} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1DomainException}{Domain\+Exception}} & \\
\hline
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}


Clean up old audit logs


\begin{DoxyParams}[1]{Parameters}
int & {\em \$days\+Older\+Than} & \\
\hline
bool & {\em \$archive\+First} & Archive logs before deletion \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\{ deleted\+\_\+count\+: int, archived\+\_\+count\+: int, freed\+\_\+space\+\_\+mb\+: float \} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1DomainException}{Domain\+Exception}} & \\
\hline
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}


Clean up old audit logs


\begin{DoxyParams}[1]{Parameters}
int & {\em \$days\+Older\+Than} & \\
\hline
bool & {\em \$archive\+First} & Archive logs before deletion \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\{ deleted\+\_\+count\+: int, archived\+\_\+count\+: int, freed\+\_\+space\+\_\+mb\+: float \} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1DomainException}{Domain\+Exception}} & \\
\hline
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}


Clean up old audit logs


\begin{DoxyParams}[1]{Parameters}
int & {\em \$days\+Older\+Than} & \\
\hline
bool & {\em \$archive\+First} & Archive logs before deletion \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\{ deleted\+\_\+count\+: int, archived\+\_\+count\+: int, freed\+\_\+space\+\_\+mb\+: float \} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1DomainException}{Domain\+Exception}} & \\
\hline
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}


Clean up old audit logs


\begin{DoxyParams}[1]{Parameters}
int & {\em \$days\+Older\+Than} & \\
\hline
bool & {\em \$archive\+First} & Archive logs before deletion \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\{ deleted\+\_\+count\+: int, archived\+\_\+count\+: int, freed\+\_\+space\+\_\+mb\+: float \} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1DomainException}{Domain\+Exception}} & \\
\hline
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}


Clean up old audit logs


\begin{DoxyParams}[1]{Parameters}
int & {\em \$days\+Older\+Than} & \\
\hline
bool & {\em \$archive\+First} & Archive logs before deletion \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\{ deleted\+\_\+count\+: int, archived\+\_\+count\+: int, freed\+\_\+space\+\_\+mb\+: float \} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1DomainException}{Domain\+Exception}} & \\
\hline
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}


Clean up old audit logs


\begin{DoxyParams}[1]{Parameters}
int & {\em \$days\+Older\+Than} & \\
\hline
bool & {\em \$archive\+First} & Archive logs before deletion \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\{ deleted\+\_\+count\+: int, archived\+\_\+count\+: int, freed\+\_\+space\+\_\+mb\+: float \} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1DomainException}{Domain\+Exception}} & \\
\hline
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}


Clean up old audit logs


\begin{DoxyParams}[1]{Parameters}
int & {\em \$days\+Older\+Than} & \\
\hline
bool & {\em \$archive\+First} & Archive logs before deletion \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\{ deleted\+\_\+count\+: int, archived\+\_\+count\+: int, freed\+\_\+space\+\_\+mb\+: float \} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1DomainException}{Domain\+Exception}} & \\
\hline
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}


Clean up old audit logs


\begin{DoxyParams}[1]{Parameters}
int & {\em \$days\+Older\+Than} & \\
\hline
bool & {\em \$archive\+First} & Archive logs before deletion \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\{ deleted\+\_\+count\+: int, archived\+\_\+count\+: int, freed\+\_\+space\+\_\+mb\+: float \} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1DomainException}{Domain\+Exception}} & \\
\hline
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}


Clean up old audit logs


\begin{DoxyParams}[1]{Parameters}
int & {\em \$days\+Older\+Than} & \\
\hline
bool & {\em \$archive\+First} & Archive logs before deletion \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\{ deleted\+\_\+count\+: int, archived\+\_\+count\+: int, freed\+\_\+space\+\_\+mb\+: float \} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1DomainException}{Domain\+Exception}} & \\
\hline
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}


Clean up old audit logs


\begin{DoxyParams}[1]{Parameters}
int & {\em \$days\+Older\+Than} & \\
\hline
bool & {\em \$archive\+First} & Archive logs before deletion \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\{ deleted\+\_\+count\+: int, archived\+\_\+count\+: int, freed\+\_\+space\+\_\+mb\+: float \} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1DomainException}{Domain\+Exception}} & \\
\hline
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}


Load audit log configuration

\begin{DoxyReturn}{Returns}
array$<$string, mixed$>$
\end{DoxyReturn}
Save configuration


\begin{DoxyParams}{Parameters}
{\em array$<$string,mixed$>$} & \$config \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void
\end{DoxyReturn}
Validate configuration


\begin{DoxyParams}{Parameters}
{\em array$<$string,mixed$>$} & \$config \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array$<$string, string$>$
\end{DoxyReturn}
Validate log input parameters


\begin{DoxyParams}[1]{Parameters}
string & {\em \$action\+Type} & \\
\hline
string & {\em \$entity\+Type} & \\
\hline
int & {\em \$entity\+Id} & \\
\hline
int | null & {\em \$admin\+Id} & \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em Validation\+Exception} & \\
\hline
\end{DoxyExceptions}
Check if logging is enabled for entity/action


\begin{DoxyParams}[1]{Parameters}
string & {\em \$entity\+Type} & \\
\hline
string & {\em \$action\+Type} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool
\end{DoxyReturn}
Generate changes summary


\begin{DoxyParams}[1]{Parameters}
array | null & {\em \$old\+Values} & \\
\hline
array | null & {\em \$new\+Values} & \\
\hline
string & {\em \$entity\+Type} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string\texorpdfstring{$\vert$}{|}null
\end{DoxyReturn}
Compare two arrays and return differences


\begin{DoxyParams}[1]{Parameters}
array & {\em \$old} & \\
\hline
array & {\em \$new} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\texorpdfstring{$<$}{<}string, array\{old\+: mixed, new\+: mixed\}\texorpdfstring{$>$}{>}
\end{DoxyReturn}
Get client IP address

\begin{DoxyReturn}{Returns}
string\texorpdfstring{$\vert$}{|}null
\end{DoxyReturn}
Get user agent

\begin{DoxyReturn}{Returns}
string\texorpdfstring{$\vert$}{|}null
\end{DoxyReturn}
Get admin name by ID


\begin{DoxyParams}[1]{Parameters}
int | null & {\em \$admin\+Id} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string\texorpdfstring{$\vert$}{|}null
\end{DoxyReturn}
Generate diff between two values


\begin{DoxyParams}[1]{Parameters}
mixed & {\em \$old} & \\
\hline
mixed & {\em \$new} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array
\end{DoxyReturn}
Calculate busiest hour


\begin{DoxyParams}[1]{Parameters}
string & {\em \$start\+Date} & \\
\hline
string & {\em \$end\+Date} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\texorpdfstring{$\vert$}{|}null
\end{DoxyReturn}
Format daily activity


\begin{DoxyParams}[1]{Parameters}
array & {\em \$daily\+Activity} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array
\end{DoxyReturn}
Calculate peak hour for a day


\begin{DoxyParams}[1]{Parameters}
string & {\em \$date} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int
\end{DoxyReturn}
Get logs for export


\begin{DoxyParams}[1]{Parameters}
array & {\em \$criteria} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array$<$\+Audit\+Log$>$
\end{DoxyReturn}
Convert logs to specified format


\begin{DoxyParams}[1]{Parameters}
 & {\em array$<$\+Audit\+Log$>$} & \$logs \\
\hline
string & {\em \$format} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string
\end{DoxyReturn}
Convert array to XML


\begin{DoxyParams}[1]{Parameters}
array & {\em \$array} & \\
\hline
\textbackslash{}\+Simple\+XMLElement & {\em \$parent} & \\
\hline
\end{DoxyParams}
Format value for display


\begin{DoxyParams}[1]{Parameters}
mixed & {\em \$value} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string
\end{DoxyReturn}
Validate single audit log


\begin{DoxyParams}[1]{Parameters}
Audit\+Log & {\em \$log} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array
\end{DoxyReturn}


Implements \mbox{\hyperlink{interfaceApp_1_1Contracts_1_1AuditLogInterface_aca16d0fc4c572e80ef31eaea984df503}{App\textbackslash{}\+Contracts\textbackslash{}\+Audit\+Log\+Interface}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService_af9f8db53181988632bc6ea948bdb02ea_cgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_aee2ff8546727d6f1cb047d1ac9b91438}\index{App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}!getActionTypeDistribution@{getActionTypeDistribution}}
\index{getActionTypeDistribution@{getActionTypeDistribution}!App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}}
\doxysubsubsection{\texorpdfstring{getActionTypeDistribution()}{getActionTypeDistribution()}}
{\footnotesize\ttfamily \label{classApp_1_1Services_1_1AuditLogService_aee2ff8546727d6f1cb047d1ac9b91438} 
App\textbackslash{}\+Services\textbackslash{}\+Audit\+Log\+Service\+::get\+Action\+Type\+Distribution (\begin{DoxyParamCaption}\item[{int}]{\$days}{ = {\ttfamily 30}}\end{DoxyParamCaption})}

Get action type distribution


\begin{DoxyParams}[1]{Parameters}
int & {\em \$days} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array$<$string, int$>$ 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}
 

Implements \mbox{\hyperlink{interfaceApp_1_1Contracts_1_1AuditLogInterface_a8b02acac22e3dcf34a3dcbab552858d5}{App\textbackslash{}\+Contracts\textbackslash{}\+Audit\+Log\+Interface}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService_aee2ff8546727d6f1cb047d1ac9b91438_cgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_a07f7a89d73efa5f7e4b8fc6985903e6d}\index{App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}!getAdminActivityTimeline@{getAdminActivityTimeline}}
\index{getAdminActivityTimeline@{getAdminActivityTimeline}!App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}}
\doxysubsubsection{\texorpdfstring{getAdminActivityTimeline()}{getAdminActivityTimeline()}}
{\footnotesize\ttfamily \label{classApp_1_1Services_1_1AuditLogService_a07f7a89d73efa5f7e4b8fc6985903e6d} 
App\textbackslash{}\+Services\textbackslash{}\+Audit\+Log\+Service\+::get\+Admin\+Activity\+Timeline (\begin{DoxyParamCaption}\item[{int}]{\$admin\+Id}{, }\item[{int}]{\$days}{ = {\ttfamily 30}}\end{DoxyParamCaption})}

Get admin activity timeline


\begin{DoxyParams}[1]{Parameters}
int & {\em \$admin\+Id} & \\
\hline
int & {\em \$days} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\texorpdfstring{$<$}{<}array\{ date\+: string, actions\+: int, entities\+: array$<$string, int$>$, last\+\_\+action\+: string\texorpdfstring{$\vert$}{|}null \}\texorpdfstring{$>$}{>} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em Not\+Found\+Exception} & \\
\hline
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}
 

Implements \mbox{\hyperlink{interfaceApp_1_1Contracts_1_1AuditLogInterface_a8a755e8eff8e9da917b24770d4208e0a}{App\textbackslash{}\+Contracts\textbackslash{}\+Audit\+Log\+Interface}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService_a07f7a89d73efa5f7e4b8fc6985903e6d_cgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_a4b37aae3b7dc7f4518fbe90b05d5ce82}\index{App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}!getAdminLogs@{getAdminLogs}}
\index{getAdminLogs@{getAdminLogs}!App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}}
\doxysubsubsection{\texorpdfstring{getAdminLogs()}{getAdminLogs()}}
{\footnotesize\ttfamily \label{classApp_1_1Services_1_1AuditLogService_a4b37aae3b7dc7f4518fbe90b05d5ce82} 
App\textbackslash{}\+Services\textbackslash{}\+Audit\+Log\+Service\+::get\+Admin\+Logs (\begin{DoxyParamCaption}\item[{int}]{\$admin\+Id}{, }\item[{\mbox{\hyperlink{classApp_1_1DTOs_1_1Queries_1_1PaginationQuery}{Pagination\+Query}}}]{\$pagination}{}\end{DoxyParamCaption})}

Get audit logs for specific admin


\begin{DoxyParams}[1]{Parameters}
int & {\em \$admin\+Id} & \\
\hline
\doxylink{classApp_1_1DTOs_1_1Queries_1_1PaginationQuery}{Pagination\+Query} & {\em \$pagination} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\{ items\+: array$<$\+Audit\+Log\+Response$>$, pagination\+: array\{ total\+: int, per\+\_\+page\+: int, current\+\_\+page\+: int, last\+\_\+page\+: int \} \} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em Not\+Found\+Exception} & \\
\hline
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}
 

Implements \mbox{\hyperlink{interfaceApp_1_1Contracts_1_1AuditLogInterface_afc1520f7f401d0654f47b15982323697}{App\textbackslash{}\+Contracts\textbackslash{}\+Audit\+Log\+Interface}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService_a4b37aae3b7dc7f4518fbe90b05d5ce82_cgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_ac547950ebddc5f77417530a41e45c0e1}\index{App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}!getDailyActivity@{getDailyActivity}}
\index{getDailyActivity@{getDailyActivity}!App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}}
\doxysubsubsection{\texorpdfstring{getDailyActivity()}{getDailyActivity()}}
{\footnotesize\ttfamily \label{classApp_1_1Services_1_1AuditLogService_ac547950ebddc5f77417530a41e45c0e1} 
App\textbackslash{}\+Services\textbackslash{}\+Audit\+Log\+Service\+::get\+Daily\+Activity (\begin{DoxyParamCaption}\item[{int}]{\$days}{ = {\ttfamily 30}}\end{DoxyParamCaption})}

Get daily activity counts


\begin{DoxyParams}[1]{Parameters}
int & {\em \$days} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\texorpdfstring{$<$}{<}array\{ date\+: string, total\+\_\+actions\+: int, admin\+\_\+actions\+: int, system\+\_\+actions\+: int, peak\+\_\+hour\+: int \}\texorpdfstring{$>$}{>} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}
 

Implements \mbox{\hyperlink{interfaceApp_1_1Contracts_1_1AuditLogInterface_a51db48aecd7de33f02b312f4f2834f6d}{App\textbackslash{}\+Contracts\textbackslash{}\+Audit\+Log\+Interface}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService_ac547950ebddc5f77417530a41e45c0e1_cgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_a89931c9e982cd4cbe00a7238bac799d0}\index{App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}!getDatabaseSize@{getDatabaseSize}}
\index{getDatabaseSize@{getDatabaseSize}!App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}}
\doxysubsubsection{\texorpdfstring{getDatabaseSize()}{getDatabaseSize()}}
{\footnotesize\ttfamily \label{classApp_1_1Services_1_1AuditLogService_a89931c9e982cd4cbe00a7238bac799d0} 
App\textbackslash{}\+Services\textbackslash{}\+Audit\+Log\+Service\+::get\+Database\+Size (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

Get audit database size statistics

\begin{DoxyReturn}{Returns}
array\{ total\+\_\+rows\+: int, estimated\+\_\+size\+\_\+mb\+: float, oldest\+\_\+log\+: string\texorpdfstring{$\vert$}{|}null, newest\+\_\+log\+: string\texorpdfstring{$\vert$}{|}null \} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}
 

Implements \mbox{\hyperlink{interfaceApp_1_1Contracts_1_1AuditLogInterface_a448312173f04df31ddce2d14a4506bf8}{App\textbackslash{}\+Contracts\textbackslash{}\+Audit\+Log\+Interface}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService_a89931c9e982cd4cbe00a7238bac799d0_cgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_a9e2da0204ccd2cead6e33c6cdd7d9bed}\index{App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}!getEntityAuditTrail@{getEntityAuditTrail}}
\index{getEntityAuditTrail@{getEntityAuditTrail}!App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}}
\doxysubsubsection{\texorpdfstring{getEntityAuditTrail()}{getEntityAuditTrail()}}
{\footnotesize\ttfamily \label{classApp_1_1Services_1_1AuditLogService_a9e2da0204ccd2cead6e33c6cdd7d9bed} 
App\textbackslash{}\+Services\textbackslash{}\+Audit\+Log\+Service\+::get\+Entity\+Audit\+Trail (\begin{DoxyParamCaption}\item[{string}]{\$entity\+Type}{, }\item[{int}]{\$entity\+Id}{, }\item[{bool}]{\$include\+System\+Actions}{ = {\ttfamily false}}\end{DoxyParamCaption})}

Get complete audit trail for entity


\begin{DoxyParams}[1]{Parameters}
string & {\em \$entity\+Type} & \\
\hline
int & {\em \$entity\+Id} & \\
\hline
bool & {\em \$include\+System\+Actions} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array$<$\+Audit\+Log\+Response$>$ 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}
 

Implements \mbox{\hyperlink{interfaceApp_1_1Contracts_1_1AuditLogInterface_a4b557a43f8c85b1a6ce0dbc80ed97f0b}{App\textbackslash{}\+Contracts\textbackslash{}\+Audit\+Log\+Interface}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService_a9e2da0204ccd2cead6e33c6cdd7d9bed_cgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_a6c19f4bd5719a20bf7fd39ce7f0a6c1a}\index{App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}!getEntityChangeHistory@{getEntityChangeHistory}}
\index{getEntityChangeHistory@{getEntityChangeHistory}!App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}}
\doxysubsubsection{\texorpdfstring{getEntityChangeHistory()}{getEntityChangeHistory()}}
{\footnotesize\ttfamily \label{classApp_1_1Services_1_1AuditLogService_a6c19f4bd5719a20bf7fd39ce7f0a6c1a} 
App\textbackslash{}\+Services\textbackslash{}\+Audit\+Log\+Service\+::get\+Entity\+Change\+History (\begin{DoxyParamCaption}\item[{string}]{\$entity\+Type}{, }\item[{int}]{\$entity\+Id}{, }\item[{?string}]{\$field}{ = {\ttfamily null}}\end{DoxyParamCaption})}

Get entity change history with diffs


\begin{DoxyParams}[1]{Parameters}
string & {\em \$entity\+Type} & \\
\hline
int & {\em \$entity\+Id} & \\
\hline
string & {\em \$field} & Filter by specific field (optional) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\texorpdfstring{$<$}{<}array\{ timestamp\+: string, action\+: string, admin\+\_\+id\+: int\texorpdfstring{$\vert$}{|}null, admin\+\_\+name\+: string\texorpdfstring{$\vert$}{|}null, old\+\_\+value\+: mixed, new\+\_\+value\+: mixed, diff\+: array \}\texorpdfstring{$>$}{>} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}
 

Implements \mbox{\hyperlink{interfaceApp_1_1Contracts_1_1AuditLogInterface_a8460cca28917d36745ec52b4d9442d71}{App\textbackslash{}\+Contracts\textbackslash{}\+Audit\+Log\+Interface}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService_a6c19f4bd5719a20bf7fd39ce7f0a6c1a_cgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_aa892dc236420c67f725f936cd3526375}\index{App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}!getEntityLogs@{getEntityLogs}}
\index{getEntityLogs@{getEntityLogs}!App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}}
\doxysubsubsection{\texorpdfstring{getEntityLogs()}{getEntityLogs()}}
{\footnotesize\ttfamily \label{classApp_1_1Services_1_1AuditLogService_aa892dc236420c67f725f936cd3526375} 
App\textbackslash{}\+Services\textbackslash{}\+Audit\+Log\+Service\+::get\+Entity\+Logs (\begin{DoxyParamCaption}\item[{string}]{\$entity\+Type}{, }\item[{int}]{\$entity\+Id}{, }\item[{\mbox{\hyperlink{classApp_1_1DTOs_1_1Queries_1_1PaginationQuery}{Pagination\+Query}}}]{\$pagination}{}\end{DoxyParamCaption})}

Get audit logs for specific entity


\begin{DoxyParams}[1]{Parameters}
string & {\em \$entity\+Type} & \\
\hline
int & {\em \$entity\+Id} & \\
\hline
\doxylink{classApp_1_1DTOs_1_1Queries_1_1PaginationQuery}{Pagination\+Query} & {\em \$pagination} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\{ items\+: array$<$\+Audit\+Log\+Response$>$, pagination\+: array\{ total\+: int, per\+\_\+page\+: int, current\+\_\+page\+: int, last\+\_\+page\+: int \} \} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}
 

Implements \mbox{\hyperlink{interfaceApp_1_1Contracts_1_1AuditLogInterface_aa8751470f6f4e48d423ba8c50d7376f6}{App\textbackslash{}\+Contracts\textbackslash{}\+Audit\+Log\+Interface}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService_aa892dc236420c67f725f936cd3526375_cgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_a6050ef89b384952884a6387801c14f67}\index{App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}!getEntityTypeDistribution@{getEntityTypeDistribution}}
\index{getEntityTypeDistribution@{getEntityTypeDistribution}!App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}}
\doxysubsubsection{\texorpdfstring{getEntityTypeDistribution()}{getEntityTypeDistribution()}}
{\footnotesize\ttfamily \label{classApp_1_1Services_1_1AuditLogService_a6050ef89b384952884a6387801c14f67} 
App\textbackslash{}\+Services\textbackslash{}\+Audit\+Log\+Service\+::get\+Entity\+Type\+Distribution (\begin{DoxyParamCaption}\item[{int}]{\$days}{ = {\ttfamily 30}}\end{DoxyParamCaption})}

Get entity type distribution


\begin{DoxyParams}[1]{Parameters}
int & {\em \$days} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array$<$string, int$>$ 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}
 

Implements \mbox{\hyperlink{interfaceApp_1_1Contracts_1_1AuditLogInterface_ab889f71bf46d425001ad786bcad6f2af}{App\textbackslash{}\+Contracts\textbackslash{}\+Audit\+Log\+Interface}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService_a6050ef89b384952884a6387801c14f67_cgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_a754a50bc33609294d450f8b03690ac1a}\index{App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}!getLastAdminActivity@{getLastAdminActivity}}
\index{getLastAdminActivity@{getLastAdminActivity}!App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}}
\doxysubsubsection{\texorpdfstring{getLastAdminActivity()}{getLastAdminActivity()}}
{\footnotesize\ttfamily \label{classApp_1_1Services_1_1AuditLogService_a754a50bc33609294d450f8b03690ac1a} 
App\textbackslash{}\+Services\textbackslash{}\+Audit\+Log\+Service\+::get\+Last\+Admin\+Activity (\begin{DoxyParamCaption}\item[{int}]{\$admin\+Id}{}\end{DoxyParamCaption})}

Get last activity timestamp for admin


\begin{DoxyParams}[1]{Parameters}
int & {\em \$admin\+Id} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string\texorpdfstring{$\vert$}{|}null ISO 8601 timestamp or null if no activity 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em Not\+Found\+Exception} & \\
\hline
\end{DoxyExceptions}
 

Implements \mbox{\hyperlink{interfaceApp_1_1Contracts_1_1AuditLogInterface_abbf3481ca9243cc8c1379ced674a0a56}{App\textbackslash{}\+Contracts\textbackslash{}\+Audit\+Log\+Interface}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService_a754a50bc33609294d450f8b03690ac1a_cgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_ac068b6c12c92c12613f6a27d159e7299}\index{App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}!getLog@{getLog}}
\index{getLog@{getLog}!App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}}
\doxysubsubsection{\texorpdfstring{getLog()}{getLog()}}
{\footnotesize\ttfamily \label{classApp_1_1Services_1_1AuditLogService_ac068b6c12c92c12613f6a27d159e7299} 
App\textbackslash{}\+Services\textbackslash{}\+Audit\+Log\+Service\+::get\+Log (\begin{DoxyParamCaption}\item[{int}]{\$log\+Id}{}\end{DoxyParamCaption})}

Get audit log by ID


\begin{DoxyParams}[1]{Parameters}
int & {\em \$log\+Id} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\doxylink{classApp_1_1DTOs_1_1Responses_1_1AuditLogResponse}{Audit\+Log\+Response} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em Not\+Found\+Exception} & \\
\hline
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}
 

Implements \mbox{\hyperlink{interfaceApp_1_1Contracts_1_1AuditLogInterface_a34d6919d2e60430114a5ed42a67d5f70}{App\textbackslash{}\+Contracts\textbackslash{}\+Audit\+Log\+Interface}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService_ac068b6c12c92c12613f6a27d159e7299_cgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_a95005021d7a7e2a51c82dff54b30862c}\index{App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}!getLogs@{getLogs}}
\index{getLogs@{getLogs}!App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}}
\doxysubsubsection{\texorpdfstring{getLogs()}{getLogs()}}
{\footnotesize\ttfamily \label{classApp_1_1Services_1_1AuditLogService_a95005021d7a7e2a51c82dff54b30862c} 
App\textbackslash{}\+Services\textbackslash{}\+Audit\+Log\+Service\+::get\+Logs (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classApp_1_1DTOs_1_1Queries_1_1PaginationQuery}{Pagination\+Query}}}]{\$pagination}{, }\item[{array}]{\$filters}{ = {\ttfamily \mbox{[}\mbox{]}}}\end{DoxyParamCaption})}

Get paginated audit logs with filters


\begin{DoxyParams}[1]{Parameters}
\doxylink{classApp_1_1DTOs_1_1Queries_1_1PaginationQuery}{Pagination\+Query} & {\em \$pagination} & \\
\hline
 & {\em array$<$string,mixed$>$} & \$filters \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\{ items\+: array$<$\+Audit\+Log\+Response$>$, pagination\+: array\{ total\+: int, per\+\_\+page\+: int, current\+\_\+page\+: int, last\+\_\+page\+: int \} \} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}
 

Implements \mbox{\hyperlink{interfaceApp_1_1Contracts_1_1AuditLogInterface_aa531b5408e05ffa0faadf2c365140f05}{App\textbackslash{}\+Contracts\textbackslash{}\+Audit\+Log\+Interface}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService_a95005021d7a7e2a51c82dff54b30862c_cgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_ab6fa21b67f023e614bd42822abe9834b}\index{App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}!getLogsByActionType@{getLogsByActionType}}
\index{getLogsByActionType@{getLogsByActionType}!App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}}
\doxysubsubsection{\texorpdfstring{getLogsByActionType()}{getLogsByActionType()}}
{\footnotesize\ttfamily \label{classApp_1_1Services_1_1AuditLogService_ab6fa21b67f023e614bd42822abe9834b} 
App\textbackslash{}\+Services\textbackslash{}\+Audit\+Log\+Service\+::get\+Logs\+By\+Action\+Type (\begin{DoxyParamCaption}\item[{string}]{\$action\+Type}{, }\item[{\mbox{\hyperlink{classApp_1_1DTOs_1_1Queries_1_1PaginationQuery}{Pagination\+Query}}}]{\$pagination}{}\end{DoxyParamCaption})}

Get audit logs by action type


\begin{DoxyParams}[1]{Parameters}
string & {\em \$action\+Type} & \\
\hline
\doxylink{classApp_1_1DTOs_1_1Queries_1_1PaginationQuery}{Pagination\+Query} & {\em \$pagination} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\{ items\+: array$<$\+Audit\+Log\+Response$>$, pagination\+: array\{ total\+: int, per\+\_\+page\+: int, current\+\_\+page\+: int, last\+\_\+page\+: int \} \} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}
 

Implements \mbox{\hyperlink{interfaceApp_1_1Contracts_1_1AuditLogInterface_a919e3943b8833c60ac6e92f7dbb5a166}{App\textbackslash{}\+Contracts\textbackslash{}\+Audit\+Log\+Interface}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService_ab6fa21b67f023e614bd42822abe9834b_cgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_a8d902a5fafcd96544f9be7e7c523bd8c}\index{App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}!getMostActiveAdmins@{getMostActiveAdmins}}
\index{getMostActiveAdmins@{getMostActiveAdmins}!App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}}
\doxysubsubsection{\texorpdfstring{getMostActiveAdmins()}{getMostActiveAdmins()}}
{\footnotesize\ttfamily \label{classApp_1_1Services_1_1AuditLogService_a8d902a5fafcd96544f9be7e7c523bd8c} 
App\textbackslash{}\+Services\textbackslash{}\+Audit\+Log\+Service\+::get\+Most\+Active\+Admins (\begin{DoxyParamCaption}\item[{int}]{\$limit}{ = {\ttfamily 10}, }\item[{?string}]{\$start\+Date}{ = {\ttfamily null}, }\item[{?string}]{\$end\+Date}{ = {\ttfamily null}}\end{DoxyParamCaption})}

Get most active admins


\begin{DoxyParams}[1]{Parameters}
int & {\em \$limit} & \\
\hline
string | null & {\em \$start\+Date} & \\
\hline
string | null & {\em \$end\+Date} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\texorpdfstring{$<$}{<}array\{ admin\+\_\+id\+: int, admin\+\_\+name\+: string, action\+\_\+count\+: int, last\+\_\+active\+: string, common\+\_\+actions\+: array$<$string, int$>$ \}\texorpdfstring{$>$}{>} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}
 

Implements \mbox{\hyperlink{interfaceApp_1_1Contracts_1_1AuditLogInterface_a4f5f3023148c47d187ec5801eca3ca31}{App\textbackslash{}\+Contracts\textbackslash{}\+Audit\+Log\+Interface}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService_a8d902a5fafcd96544f9be7e7c523bd8c_cgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_aadeb81333e44c6ce30887f19e0086ba3}\index{App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}!getRecentLogs@{getRecentLogs}}
\index{getRecentLogs@{getRecentLogs}!App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}}
\doxysubsubsection{\texorpdfstring{getRecentLogs()}{getRecentLogs()}}
{\footnotesize\ttfamily \label{classApp_1_1Services_1_1AuditLogService_aadeb81333e44c6ce30887f19e0086ba3} 
App\textbackslash{}\+Services\textbackslash{}\+Audit\+Log\+Service\+::get\+Recent\+Logs (\begin{DoxyParamCaption}\item[{int}]{\$hours}{ = {\ttfamily 24}, }\item[{\mbox{\hyperlink{classApp_1_1DTOs_1_1Queries_1_1PaginationQuery}{Pagination\+Query}}}]{\$pagination}{}\end{DoxyParamCaption})}

Get recent audit logs (last N hours)


\begin{DoxyParams}[1]{Parameters}
int & {\em \$hours} & \\
\hline
\doxylink{classApp_1_1DTOs_1_1Queries_1_1PaginationQuery}{Pagination\+Query} & {\em \$pagination} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\{ items\+: array$<$\+Audit\+Log\+Response$>$, pagination\+: array\{ total\+: int, per\+\_\+page\+: int, current\+\_\+page\+: int, last\+\_\+page\+: int \} \} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}
 

Implements \mbox{\hyperlink{interfaceApp_1_1Contracts_1_1AuditLogInterface_a2453ee67d0bb080954eb211f9aa1a23c}{App\textbackslash{}\+Contracts\textbackslash{}\+Audit\+Log\+Interface}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService_aadeb81333e44c6ce30887f19e0086ba3_cgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_a2d2399a6237897da1861cdf0039148d9}\index{App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}!getStatistics@{getStatistics}}
\index{getStatistics@{getStatistics}!App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}}
\doxysubsubsection{\texorpdfstring{getStatistics()}{getStatistics()}}
{\footnotesize\ttfamily \label{classApp_1_1Services_1_1AuditLogService_a2d2399a6237897da1861cdf0039148d9} 
App\textbackslash{}\+Services\textbackslash{}\+Audit\+Log\+Service\+::get\+Statistics (\begin{DoxyParamCaption}\item[{?string}]{\$start\+Date}{ = {\ttfamily null}, }\item[{?string}]{\$end\+Date}{ = {\ttfamily null}}\end{DoxyParamCaption})}

Get audit log statistics


\begin{DoxyParams}[1]{Parameters}
string | null & {\em \$start\+Date} & \\
\hline
string | null & {\em \$end\+Date} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\{ total\+\_\+logs\+: int, admin\+\_\+logs\+: int, system\+\_\+logs\+: int, by\+\_\+action\+\_\+type\+: array$<$string, int$>$, by\+\_\+entity\+\_\+type\+: array$<$string, int$>$, by\+\_\+admin\+: array\texorpdfstring{$<$}{<}int, array\{admin\+\_\+id\+: int, count\+: int, name\+: string\}\texorpdfstring{$>$}{>}, daily\+\_\+activity\+: array$<$string, int$>$, busiest\+\_\+hour\+: array\{hour\+: int, count\+: int\}\texorpdfstring{$\vert$}{|}null \} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}
 

Implements \mbox{\hyperlink{interfaceApp_1_1Contracts_1_1AuditLogInterface_aa830544e7c580e9c8e00fd77c1c9b1d0}{App\textbackslash{}\+Contracts\textbackslash{}\+Audit\+Log\+Interface}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService_a2d2399a6237897da1861cdf0039148d9_cgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_a647c4e7b6fe3f685de20105698d5da87}\index{App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}!getSystemLogs@{getSystemLogs}}
\index{getSystemLogs@{getSystemLogs}!App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}}
\doxysubsubsection{\texorpdfstring{getSystemLogs()}{getSystemLogs()}}
{\footnotesize\ttfamily \label{classApp_1_1Services_1_1AuditLogService_a647c4e7b6fe3f685de20105698d5da87} 
App\textbackslash{}\+Services\textbackslash{}\+Audit\+Log\+Service\+::get\+System\+Logs (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classApp_1_1DTOs_1_1Queries_1_1PaginationQuery}{Pagination\+Query}}}]{\$pagination}{}\end{DoxyParamCaption})}

Get system-\/generated audit logs


\begin{DoxyParams}[1]{Parameters}
\doxylink{classApp_1_1DTOs_1_1Queries_1_1PaginationQuery}{Pagination\+Query} & {\em \$pagination} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\{ items\+: array$<$\+Audit\+Log\+Response$>$, pagination\+: array\{ total\+: int, per\+\_\+page\+: int, current\+\_\+page\+: int, last\+\_\+page\+: int \} \} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}
 

Implements \mbox{\hyperlink{interfaceApp_1_1Contracts_1_1AuditLogInterface_a19cad89dc97d476cd4cec7480974c6f6}{App\textbackslash{}\+Contracts\textbackslash{}\+Audit\+Log\+Interface}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService_a647c4e7b6fe3f685de20105698d5da87_cgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_adce8de8677781434798b795bf5aeb4d2}\index{App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}!hasEntityHistory@{hasEntityHistory}}
\index{hasEntityHistory@{hasEntityHistory}!App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}}
\doxysubsubsection{\texorpdfstring{hasEntityHistory()}{hasEntityHistory()}}
{\footnotesize\ttfamily \label{classApp_1_1Services_1_1AuditLogService_adce8de8677781434798b795bf5aeb4d2} 
App\textbackslash{}\+Services\textbackslash{}\+Audit\+Log\+Service\+::has\+Entity\+History (\begin{DoxyParamCaption}\item[{string}]{\$entity\+Type}{, }\item[{int}]{\$entity\+Id}{}\end{DoxyParamCaption})}

Check if entity has audit history


\begin{DoxyParams}[1]{Parameters}
string & {\em \$entity\+Type} & \\
\hline
int & {\em \$entity\+Id} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool
\end{DoxyReturn}
 

Implements \mbox{\hyperlink{interfaceApp_1_1Contracts_1_1AuditLogInterface_a4290d7e46f25db1f7f36886671044866}{App\textbackslash{}\+Contracts\textbackslash{}\+Audit\+Log\+Interface}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService_adce8de8677781434798b795bf5aeb4d2_cgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_a5e28ed3745d2c85763602e0a3dbc55b7}\index{App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}!log@{log}}
\index{log@{log}!App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}}
\doxysubsubsection{\texorpdfstring{log()}{log()}}
{\footnotesize\ttfamily \label{classApp_1_1Services_1_1AuditLogService_a5e28ed3745d2c85763602e0a3dbc55b7} 
App\textbackslash{}\+Services\textbackslash{}\+Audit\+Log\+Service\+::log (\begin{DoxyParamCaption}\item[{string}]{\$action\+Type}{, }\item[{string}]{\$entity\+Type}{, }\item[{int}]{\$entity\+Id}{, }\item[{?array}]{\$old\+Values}{ = {\ttfamily null}, }\item[{?array}]{\$new\+Values}{ = {\ttfamily null}, }\item[{?int}]{\$admin\+Id}{ = {\ttfamily null}, }\item[{array}]{\$additional\+Context}{ = {\ttfamily \mbox{[}\mbox{]}}}\end{DoxyParamCaption})}

Record audit log entry for business operation


\begin{DoxyParams}[1]{Parameters}
string & {\em \$action\+Type} & \\
\hline
string & {\em \$entity\+Type} & \\
\hline
int & {\em \$entity\+Id} & \\
\hline
array | null & {\em \$old\+Values} & \\
\hline
array | null & {\em \$new\+Values} & \\
\hline
int | null & {\em \$admin\+Id} & \\
\hline
array & {\em \$additional\+Context} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string Audit log entry ID or reference 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1ValidationException}{Validation\+Exception}} & \\
\hline
{\em \doxylink{classApp_1_1Exceptions_1_1DomainException}{Domain\+Exception}} & \\
\hline
\end{DoxyExceptions}
 

Implements \mbox{\hyperlink{interfaceApp_1_1Contracts_1_1AuditLogInterface_abc1977052f01688362e5c746440ce1dd}{App\textbackslash{}\+Contracts\textbackslash{}\+Audit\+Log\+Interface}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService_a5e28ed3745d2c85763602e0a3dbc55b7_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService_a5e28ed3745d2c85763602e0a3dbc55b7_icgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_a324ddcd93db54940dbefc571ff4bbdb4}\index{App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}!logBulk@{logBulk}}
\index{logBulk@{logBulk}!App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}}
\doxysubsubsection{\texorpdfstring{logBulk()}{logBulk()}}
{\footnotesize\ttfamily \label{classApp_1_1Services_1_1AuditLogService_a324ddcd93db54940dbefc571ff4bbdb4} 
App\textbackslash{}\+Services\textbackslash{}\+Audit\+Log\+Service\+::log\+Bulk (\begin{DoxyParamCaption}\item[{array}]{\$log\+Entries}{}\end{DoxyParamCaption})}

Record bulk audit logs for batch operations


\begin{DoxyParams}{Parameters}
{\em array$<$array\{} & action\+\_\+type\+: string, entity\+\_\+type\+: string, entity\+\_\+id\+: int, old\+\_\+values?\+: array\texorpdfstring{$\vert$}{|}null, new\+\_\+values?\+: array\texorpdfstring{$\vert$}{|}null, admin\+\_\+id?\+: int\texorpdfstring{$\vert$}{|}null, context?\+: array \}\texorpdfstring{$>$}{>} \$log\+Entries \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int Number of successfully logged entries 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1ValidationException}{Validation\+Exception}} & \\
\hline
{\em \doxylink{classApp_1_1Exceptions_1_1DomainException}{Domain\+Exception}} & \\
\hline
\end{DoxyExceptions}
 

Implements \mbox{\hyperlink{interfaceApp_1_1Contracts_1_1AuditLogInterface_a668694d17e8812643f39f95b2f7c39ac}{App\textbackslash{}\+Contracts\textbackslash{}\+Audit\+Log\+Interface}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService_a324ddcd93db54940dbefc571ff4bbdb4_cgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_af5a9e96404826479e98097d4c3c8fd18}\index{App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}!logSystemAction@{logSystemAction}}
\index{logSystemAction@{logSystemAction}!App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}}
\doxysubsubsection{\texorpdfstring{logSystemAction()}{logSystemAction()}}
{\footnotesize\ttfamily \label{classApp_1_1Services_1_1AuditLogService_af5a9e96404826479e98097d4c3c8fd18} 
App\textbackslash{}\+Services\textbackslash{}\+Audit\+Log\+Service\+::log\+System\+Action (\begin{DoxyParamCaption}\item[{string}]{\$action\+Type}{, }\item[{string}]{\$entity\+Type}{, }\item[{int}]{\$entity\+Id}{, }\item[{?array}]{\$old\+Values}{ = {\ttfamily null}, }\item[{?array}]{\$new\+Values}{ = {\ttfamily null}, }\item[{array}]{\$system\+Context}{ = {\ttfamily \mbox{[}\mbox{]}}}\end{DoxyParamCaption})}

Record system-\/generated audit log (no admin context)


\begin{DoxyParams}[1]{Parameters}
string & {\em \$action\+Type} & \\
\hline
string & {\em \$entity\+Type} & \\
\hline
int & {\em \$entity\+Id} & \\
\hline
array | null & {\em \$old\+Values} & \\
\hline
array | null & {\em \$new\+Values} & \\
\hline
array & {\em \$system\+Context} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1ValidationException}{Validation\+Exception}} & \\
\hline
{\em \doxylink{classApp_1_1Exceptions_1_1DomainException}{Domain\+Exception}} & \\
\hline
\end{DoxyExceptions}
 

Implements \mbox{\hyperlink{interfaceApp_1_1Contracts_1_1AuditLogInterface_a7b31e6306a8e4061e012da987cfd2a47}{App\textbackslash{}\+Contracts\textbackslash{}\+Audit\+Log\+Interface}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService_af5a9e96404826479e98097d4c3c8fd18_cgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_a66ba733cb0e32531726058b3fff51f6d}\index{App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}!searchLogs@{searchLogs}}
\index{searchLogs@{searchLogs}!App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}}
\doxysubsubsection{\texorpdfstring{searchLogs()}{searchLogs()}}
{\footnotesize\ttfamily \label{classApp_1_1Services_1_1AuditLogService_a66ba733cb0e32531726058b3fff51f6d} 
App\textbackslash{}\+Services\textbackslash{}\+Audit\+Log\+Service\+::search\+Logs (\begin{DoxyParamCaption}\item[{string}]{\$search\+Term}{, }\item[{\mbox{\hyperlink{classApp_1_1DTOs_1_1Queries_1_1PaginationQuery}{Pagination\+Query}}}]{\$pagination}{}\end{DoxyParamCaption})}

Search audit logs by summary/content


\begin{DoxyParams}[1]{Parameters}
string & {\em \$search\+Term} & \\
\hline
\doxylink{classApp_1_1DTOs_1_1Queries_1_1PaginationQuery}{Pagination\+Query} & {\em \$pagination} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\{ items\+: array$<$\+Audit\+Log\+Response$>$, pagination\+: array\{ total\+: int, per\+\_\+page\+: int, current\+\_\+page\+: int, last\+\_\+page\+: int \} \} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}
 

Implements \mbox{\hyperlink{interfaceApp_1_1Contracts_1_1AuditLogInterface_a90b574e144b65ec50867c9f00b463f64}{App\textbackslash{}\+Contracts\textbackslash{}\+Audit\+Log\+Interface}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService_a66ba733cb0e32531726058b3fff51f6d_cgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_a4c9af2c74d6854c4d96bf7c61992bf37}\index{App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}!searchLogsByDateRange@{searchLogsByDateRange}}
\index{searchLogsByDateRange@{searchLogsByDateRange}!App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}}
\doxysubsubsection{\texorpdfstring{searchLogsByDateRange()}{searchLogsByDateRange()}}
{\footnotesize\ttfamily \label{classApp_1_1Services_1_1AuditLogService_a4c9af2c74d6854c4d96bf7c61992bf37} 
App\textbackslash{}\+Services\textbackslash{}\+Audit\+Log\+Service\+::search\+Logs\+By\+Date\+Range (\begin{DoxyParamCaption}\item[{string}]{\$start\+Date}{, }\item[{string}]{\$end\+Date}{, }\item[{\mbox{\hyperlink{classApp_1_1DTOs_1_1Queries_1_1PaginationQuery}{Pagination\+Query}}}]{\$pagination}{}\end{DoxyParamCaption})}

Search audit logs within date range


\begin{DoxyParams}[1]{Parameters}
string & {\em \$start\+Date} & ISO 8601 date \\
\hline
string & {\em \$end\+Date} & ISO 8601 date \\
\hline
\doxylink{classApp_1_1DTOs_1_1Queries_1_1PaginationQuery}{Pagination\+Query} & {\em \$pagination} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\{ items\+: array$<$\+Audit\+Log\+Response$>$, pagination\+: array\{ total\+: int, per\+\_\+page\+: int, current\+\_\+page\+: int, last\+\_\+page\+: int \} \} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1ValidationException}{Validation\+Exception}} & \\
\hline
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}
 

Implements \mbox{\hyperlink{interfaceApp_1_1Contracts_1_1AuditLogInterface_a2e089001cbd1db04d6e5022031c68b22}{App\textbackslash{}\+Contracts\textbackslash{}\+Audit\+Log\+Interface}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService_a4c9af2c74d6854c4d96bf7c61992bf37_cgraph}
\end{center}
\end{figure}
\Hypertarget{classApp_1_1Services_1_1AuditLogService_ab63b2ec841477d26a18b3b2dd0056e40}\index{App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}!searchLogsByIp@{searchLogsByIp}}
\index{searchLogsByIp@{searchLogsByIp}!App\textbackslash{}Services\textbackslash{}AuditLogService@{App\textbackslash{}Services\textbackslash{}AuditLogService}}
\doxysubsubsection{\texorpdfstring{searchLogsByIp()}{searchLogsByIp()}}
{\footnotesize\ttfamily \label{classApp_1_1Services_1_1AuditLogService_ab63b2ec841477d26a18b3b2dd0056e40} 
App\textbackslash{}\+Services\textbackslash{}\+Audit\+Log\+Service\+::search\+Logs\+By\+Ip (\begin{DoxyParamCaption}\item[{string}]{\$ip\+Address}{, }\item[{\mbox{\hyperlink{classApp_1_1DTOs_1_1Queries_1_1PaginationQuery}{Pagination\+Query}}}]{\$pagination}{}\end{DoxyParamCaption})}

Search audit logs by IP address


\begin{DoxyParams}[1]{Parameters}
string & {\em \$ip\+Address} & \\
\hline
\doxylink{classApp_1_1DTOs_1_1Queries_1_1PaginationQuery}{Pagination\+Query} & {\em \$pagination} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
array\{ items\+: array$<$\+Audit\+Log\+Response$>$, pagination\+: array\{ total\+: int, per\+\_\+page\+: int, current\+\_\+page\+: int, last\+\_\+page\+: int \} \} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em \doxylink{classApp_1_1Exceptions_1_1AuthorizationException}{Authorization\+Exception}} & \\
\hline
\end{DoxyExceptions}
 

Implements \mbox{\hyperlink{interfaceApp_1_1Contracts_1_1AuditLogInterface_a0c6276766b2b5030ddd06c39286b710b}{App\textbackslash{}\+Contracts\textbackslash{}\+Audit\+Log\+Interface}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classApp_1_1Services_1_1AuditLogService_ab63b2ec841477d26a18b3b2dd0056e40_cgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
app/\+Services/\mbox{\hyperlink{AuditLogService_8php}{Audit\+Log\+Service.\+php}}\end{DoxyCompactItemize}
